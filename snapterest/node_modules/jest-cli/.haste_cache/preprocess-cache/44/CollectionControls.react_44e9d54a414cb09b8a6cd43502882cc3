'use strict';var React = require('react');
var Header = require('./Header.react');
var Button = require('./Button.react');
var CollectionRenameForm = require('./CollectionRenameForm.react');
var CollectionExportForm = require('./CollectionExportForm.react');

var CollectionControls = React.createClass({ displayName: 'CollectionControls', 
    getInitialState: function getInitialState() {
        return { 
            name: 'new', 
            isEditingName: false };}, 


    getHeaderText: function getHeaderText() {
        var noOfTweetsInCollection = this.props.noOfTweetsInCollection;
        var text = noOfTweetsInCollection;

        if (noOfTweetsInCollection === 1) {
            text = text + ' tweet in your';} else 
        {
            text = text + ' tweets in your';}


        return (
            React.createElement('span', null, 
            text, ' ', React.createElement('strong', null, this.state.name), ' collection'));}, 




    toggleEditCollectionName: function toggleEditCollectionName() {
        this.setState({ 
            isEditingName: !isEditingName });}, 



    setCollectionName: function setCollectionName(name) {
        this.setState({ 
            name: name, 
            isEditingName: false });}, 



    render: function render() {

        if (this.state.isEditingName) {
            return (
                React.createElement(CollectionRenameForm, { 
                    name: this.state.name, 
                    onChangeCollectionName: this.setCollectionName, 
                    onCancelCollectionNameChange: this.toggleEditCollectionName() }));}



        return (
            React.createElement('div', null, 
            React.createElement(Header, { text: this.getHeaderText() }), 

            React.createElement(Button, { 
                label: 'Rename collection', 
                handleClick: this.toggleEditCollectionName }), 

            React.createElement(Button, { 
                label: 'Empty collection', 
                handleClick: this.props.onRemoveAllTweetsFromCollection }), 

            React.createElement(CollectionExportForm, { htmlMarkup: this.props.htmlMarkup })));} });







module.exports = CollectionControls;